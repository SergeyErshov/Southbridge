# üéóÔ∏è  –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

---

### üìã –ö–∞—Ä—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞)

–í–µ–±-—Å–µ—Ä–≤–µ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏:
 - **CPU** 1 core, 2,2 GHz
 - **RAM** 1834 MB  
  
–í –∫–∞—á–µ—Å—Ç–≤–µ **frontend** –≤—ã—Å—Ç—É–ø–∞–µ—Ç nginx —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SSL –∏ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è 1 –≥–æ–¥. –° –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ http —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ https.  
–í–µ–±-—Å–µ—Ä–≤–µ—Ä Nginx –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–¥–∞—á—É –∫–æ–Ω–µ—á–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç—Å—è –Ω–∞ backend.  

–í –∫–∞—á–µ—Å—Ç–≤–µ **backend** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä apache –≤ —Å–≤—è–∑–∫–µ —Å php + php-fpm  

–ò—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –°–£–ë–î - MariaDB, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫—ç—à–∏—Ä—É—é—â–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è memcache  

–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—á—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ PHP —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ PHPMailer  

---

## üõ†Ô∏è –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

1. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç ***test8.clo.southbridge.ru*** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç nginx –¥–ª—è –æ—Ç–¥–∞—á–∏ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∏–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É apache, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–æ–±–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å php. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –∫—ç—à–∏—Ä—É–µ—Ç—Å—è, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ - 1 –º–µ—Å—è—Ü. –°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É https. –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ - 1 –≥–æ–¥. –§–∞–π–ª-–∏–Ω–¥–µ–∫—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ [—Å—Å—ã–ª–∫–µ](https://github.com/SergeyErshov/Southbridge/blob/main/configs/index.php)  

2. –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É —Å–∞–π—Ç–∞ –ø–µ—Ä–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –¥–≤—É–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ dev1 –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø, dev2 - –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ.

3. –°–µ—Å—Å–∏–∏ php —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ memcached. Memcached –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Å localhost –≤ —Ü–µ–ª—è—Ö —Å–µ—Ç–µ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

4. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ php —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ phpmailer. –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å –ø–æ–º–æ—â—å—é –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–æ–ª–æ–≤–∫–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ [DKIM-–ø–æ–¥–ø–∏—Å–∏](https://github.com/SergeyErshov/Southbridge/blob/main/configs/dkim.txt), —É–¥–∞–ª–æ—Å—å –¥–æ—Å—Ç–∏—á—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –ø–∏—Å–µ–º –Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ —Å–ø–∞–º-—Ñ–∏–ª—å—Ç—Ä–∞. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≤–æ–¥–∏–ª–∞—Å—å —Å –ø–æ–º–æ—â—å—é [–¥–∞–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞](https://www.mail-tester.com/). –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ:  
   
   ![spamtest](https://github.com/SergeyErshov/Southbridge/blob/main/raw/mail_spam_check.png "spamtest")

    –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ—á—Ç—ã, –ª–æ–≥ –ø–æ—á—Ç—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –ø–æ –ø—É—Ç–∏ **/var/log/phpmail.log**.

5. –í –∫–∞—á–µ—Å—Ç–≤–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MariaDB. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –°–£–ë–î –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –¥–ª—è —Ä–∞–±–æ—Ç–∞ –Ω–∞ –¥–∞–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤–∏–∏ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –°–£–ë–î –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Ç—Å—Ä—É–º–µ–Ω—Ç–∞ ***tuning-primer***. –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö - **test8**.
   –°–£–ë–î –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Ä–µ–ø–ª–∏–∫–∏ –≤ —Ä–æ–ª–∏ Master (–≤–∫–ª—é—á–µ–Ω –±–∏–Ω–∞—Ä–Ω—ã–π –ª–æ–≥, —Å–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏). –í –¥–∞–ª—å–Ω–µ–π—à–µ–º —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –≤ Master-Slave —Ä–µ–ø–ª–∏–∫–µ, —Ç–∞–∫ –∏ –≤ Master-Master.

6. –í MariaDB –≤–∫–ª—é—á–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö –±–æ–ª–µ–µ 4 —Å–µ–∫—É–Ω–¥). –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - dev1 - —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö test8, dev2 - —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ —á—Ç–µ–Ω–∏–µ. –í —Ü–µ–ª—è—Ö —Å–µ—Ç–µ–≤–æ–π –±–µ–∑–æ–ø–∞—Å—Ç–Ω–æ—Å—Ç–∏ –°–£–ë–î –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —Å localhost
